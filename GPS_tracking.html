<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
<div id="details"></div>
<h1> GPS Data App</h1>

<script>
var reqcount = 0;

navigator.geolocation.watchPosition(successCallback, errorCallback, options);

function successCallback(position) {
  const { accuracy, latitude, longitude, altitude, heading, speed } = position.coords;

  reqcount++;
  details.innerHTML = "Accuracy: " + accuracy + "<br>" +
                     "Latitude: " + latitude "<br>" + "Longitude: " + longitude + "<br>" +
                     "Altitude: " + altitude + "<br>" +
                     "Heading: " + heading + "<br>" +
                     "Speed: " + speed + "<br>" +
                     "Reqcount: " + reqcount;
}

function errorCallback(error) {
  // You can handle errors here if needed.
}
if ("geolocation" in navigator) {

  console.log("geolocation available");
  navigator.geolocation.getCurrentPosition(async (position) => {
    lat = position.coords.latitude;
    lon = position.coords.longitude;
    document.getElementById("latitude").textContent = lat;
    document.getElementById("longitude").textContent = lon;
  });
} else {
  console.log("geolocation not available");
}

var options = {
  // enableHighAccuracy: false,
  // timeout: 5000,
  // maximumAge: 0
}
</script>

<p>
  latitude: <span id="latitude"></span>&deg;<br />
  longitude: <span id="longitude"></span>&deg;
</p>

</body>
</html>


